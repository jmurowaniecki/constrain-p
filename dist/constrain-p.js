/*
 * jQuery Plugin to auto resize elements with constrain proportions enabled.
 * https://github.com/sandroweb/constrain-p
 */!function(a,b){"use strict";a.fn.constrainP=function(c){function d(a){var b,c={};a=a||{};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}function e(a){return a.attr("class").indexOf("constrain-p")>-1?!0:!1}function f(a,b,c){b=d(b),b.width=c*b.originalWidth/j,b.height=c*b.originalHeight/j,b.scale=c,a.css({width:b.width,height:b.height}),b.onResized&&b.onResized(a,b)}function g(a,b){var c,d,e,g;a.length>0&&(e=a.parent(),g={width:e.innerWidth(),height:e.innerHeight()},c=g.width*j/b.originalWidth,d=g.height*j/b.originalHeight,"width"===b.guide?f(a,b,c):"height"===b.guide?f(a,b,d):d>c?f(a,b,c):f(a,b,d))}function h(a,b){function c(){if(b.originalSize=b.originalSize||a.attr("data-original-size"),b.guide=b.guide||a.attr("data-guide"),b.guide="width"===b.guide||"height"===b.guide||"all"===b.guide?b.guide:"width",!b.originalSize)throw new Error("To preset the attribute of data-original-size (w|h) on tag, or the parameter of originalSize (w|h) when to call the plugin.");b.originalSize=b.originalSize.toLowerCase().split("x"),b.originalWidth=Number(b.originalSize[0]),b.originalHeight=Number(b.originalSize[1])}c(),e(a)===!1&&(a.css({display:"block","box-sizing":"border-box"}),a.addClass("constrain-p-"+i.length),i.push({scope:a,options:b})),g(a,b)}c=c||{};var i=[],j=1;a.each(a(this),function(b,e){var f=a(e);return h(f,d(c)),b}),b.onresize=function(){var a,b,c=i.length;for(a=0;c>a;a+=1)b=i[a],g(b.scope,b.options)}}}(jQuery,window);